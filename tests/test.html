<html>
<head>
    <title>jsNetTools Test</title>
    <style type="text/css">
        body {
            width: 800px;
            height: 100%;
            margin: 10px auto;
            font-family: sans-serif;
        }
        td.result {
            text-align: center;
        }
    </style>
    <script>
        function pingUpdateField(hostSrc, resultLoc)
        {
            var hostEntry = document.getElementById(hostSrc);
            var resultEntry = document.getElementById(resultLoc);
            var netTool = document.embeds[0];
            var ret = netTool.Ping({
                host: hostEntry.innerHTML,
                callback: function (ret) {
                    var resultEntry = document.getElementById(resultLoc);
                    if (ret)
                        resultEntry.innerHTML = ret;
                    else
                        resultEntry.innerHTML = "Ping Failed.";
                    return true;
                    },
                 interval: 0.2,
                 count: 3
                });
            if (ret)
                resultEntry.innerHTML = "Pinging...";
            else
                resultEntry.innerHTML = "Ping Failed.";
        }
    </script>
</head>
<body>

<center><h1>jsNetTools Plugin Example for Mozilla Test Case</h1></center>

<p>
This test case is to demonstrate the basic functionalities of the jsNetTools plugin. It will ping a host, and return it's rtt times, in min/avg/max/mdev format.
</p>
<embed type="application/nettool" hidden="true" />

<center>
<table>
    <thead>
        <th>Host</th>
        <th>RTT(min/avg/max/mdev)</th>
    </thead>
    <tbody>
        <tr><td id="host1">students.iitm.ac.in</td><td class="result" id="rtt1"></td></tr>
        <tr><td id="host2">academic.iitm.ac.in</td><td class="result" id="rtt2"></td></tr>
        <tr><td id="host3">localhost</td><td class="result" id="rtt3"></td></tr>
    </tbody>
</table>
</center>

<p>
To run the script, click the button: <button onclick="pingUpdateField('host1', 'rtt1'); pingUpdateField('host2', 'rtt2'); pingUpdateField('host3', 'rtt3');">Ping!</button>
</p>


</html>
</body>

